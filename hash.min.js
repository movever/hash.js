(function(e){var t=/[=\[\]\&]/,n=/(.*)\[\]=(.*)/,r=/(.*)=(.*)/;var i=function(){var t={},i=e.location.hash.slice(2).split("&");for(var s=0;s<i.length;s++){var o=null,u=i[s];if(u===""){continue}if(o=u.match(n)){if(t[o[1]]){t[o[1]].push(o[2])}else{t[o[1]]=[o[2]]}}else if(o=u.match(r)){t[o[1]]=o[2]}}return t}();var s=function(){var t="#!";for(var n in i){if(i[n]instanceof Array){for(var r=0;r<i[n].length;r++){t+="&"+n+"[]="+i[n][r]}}else{t+="&"+n+"="+i[n]}}e.location.hash=t};hash=function(e,n){if(e.match(t)){throw"Cannot use key '"+e+"', because it contains special characters."}if(arguments.length==2){if(n===undefined){delete i[e]}else{i[e]=n}s()}else{return i[e]}}})(window)
